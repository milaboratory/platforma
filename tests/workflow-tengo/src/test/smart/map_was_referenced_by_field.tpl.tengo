// map was referenced by field.

smart := import("@platforma-sdk/workflow-tengo:smart")
self := import("@platforma-sdk/workflow-tengo:tpl")
ll := import("@platforma-sdk/workflow-tengo:ll")

self.defineOutputs(["outputMap", "outputFromCache", "outputField"])

self.body(func(inputs) {
	res := inputs.mapResource
	cachedRes := smart.cacheMap().get(res)

	return {
		outputMap: res,
		outputFromCache: cachedRes,
		outputField: cachedRes.gotFromField()
	}
})
