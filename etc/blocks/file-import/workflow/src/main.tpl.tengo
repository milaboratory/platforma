wf := import("@platforma-sdk/workflow-tengo:workflow")
file := import("@platforma-sdk/workflow-tengo:file")
xsv := import("@platforma-sdk/workflow-tengo:pframes.xsv")

wf.body(func(args) {
	fImport := file.importFile(args.fileHandle);
	pf := xsv.importFile(fImport.file, args.fileExt, args.spec, { splitDataAndSpec: true });

	return {
		outputs: {
			fileUploadProgress: fImport.handle
		},
		exports: pf
	}
})
