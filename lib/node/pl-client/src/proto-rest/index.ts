//
// This file is NOT autogenerated!
//
// After generating new clients from openapi specifications, add client types here.
//

import type { paths as PlApiPaths } from './plapi';
import { default as createOpenApiClient, type Client } from 'openapi-fetch';

export type RestClientConfig = {
  hostAndPort: string;
  ssl: boolean;
}

export function createClient<Paths extends {}>(opts: RestClientConfig): Client<Paths> {
  const scheme = opts.ssl ? 'https://' : 'http://';
  // TODO: use undici dispatcher here or take proxy settings.
  return createOpenApiClient<Paths>({
    baseUrl: `${scheme}${opts.hostAndPort}`,
  });
}

export { PlApiPaths };
export type PlRestClientType = Client<PlApiPaths>;
